# 第五次作业

### 路由器的结构

* 内部构件
  * RAM
    * 存放路由表，存放ARP高速缓存，存放快速交换缓存，存放分组交换缓存，存放解压后的IOS，路由器加电后，存放running配置文件
    * 重启或断电后内存中内容丢失
  * NVRAM 非易失性RAM
    * 功能 存储路由器的startup配置文件，存储路由器的备份
    * 特点 重启或断电后 内容不丢失
  * flash 快速闪存
    * 存放IOS和微代码
    * 重启或断电后内容不丢失，可存放多个版本的IOS，允许软件升级不需替换CPU中的芯片
  * ROM 只读存储器
    * 存放POST诊断所需的指令，存放mini-ios，存放ROM监控模式的代码
    * 特点 ROM中的软件升级需要更换cpu的芯片
  * CPU 中央处理器
    * 衡量路由器性能的重要指标，负责路由计算，路由选择等
  * 背板
    * 背板能力是一个重要参数 尤其在交换机中
* 外部构件
  * 接口
    * 以太口 快速以太口 适应以太口 光纤口 console口 辅助口AUX等
    * 电源接口 开关等



### 路由器PC区别

路由器区别于其他计算机的是用户界面和内存的配置

从功能上，路由器是专业设备，是专门起到路由作用的计算机

PC是通用设备，虽然可以安装路由功能，但从效率功耗等方面，要比路由器差

### 静态路由

往往是用在规模比较小的网络中，或者说对安全有特别要求的应用中。在这些场合中，主要的一个特点就是即时手工维护路由信息，其工作量也不是很大。或者说能够被用户所接受。而对于大型网络，或者静态在变化的网络来说，不适宜采用静态路由工作模式。因为此时工作量会变得很大。此时采用动态路由可能会更加合适

### 缺省路由

缺省路由又称为默认路由，是一种特殊的静态路由，目的地址与掩码配置为全零（0.0.0.0 0.0.0.0）。在网络维护、管理过程中，我们常会遇到网络通信拥塞，路由器内存、CPU能力未能满足过量的数据处理及数据传送等问题。虽然增加网络通信链路带宽、升级路由器有关性能（或重新选用高级别的路由器）是解决这类问题的一个方面，但远远不够，还应从减小数据处理和数据传送等方面加以考虑。其中，合理地利用缺省路由不失为措施之一

### MSTP的工作原理

* MSTP（多业务传送平台）是将传统的SDH复用器、数字交叉链接器(DXC)、WDM终端、网络二层交换机和lP边缘路由器等多个独立的设备集成为一个网络设备，即基于SDH技术的多业务传送平台(MSTP)，进行统一控制和管理。基于SDH的MSTP技术最适合作为阀络边缘的融合节点支持混合型业务，特别是以TDM业务为主的混合业务。以SDH为基础的多业务平台可以更有效地支持分组数据业务，有助于实现从电路交换网向分组网的过渡
* MSTP可以实现对多种业务的处理，包括PDH业务、SDH业务、ATM数据业务及IP、以太网业务等，既能实现快速传输，又能满足多业务承载，更重要的是能提供电信级的QoS能力

### VRRP的工作原理

* 虚拟路由冗余协议(Virtual Router Redundancy Protocol，简称VRRP)是由IETF提出的解决局域网中配置静态网关出现单点失效现象的路由协议
* VRRP是一种容错协议，它通过把几台路由设备联合组成一台虚拟的路由设备，并通过一定的机制来保证当主机的下一跳设备出现故障时，可以及时将业务切换到其它设备，从而保持通讯的连续性和可靠性
* RRP将局域网内的一组路由器划分在一起，称为一个备份组。备份组由一个Master路由器和多个Backup路由器组成，功能上相当于一台虚拟路由器。局域网内的主机只需要知道这个虚拟路由器的IP地址，并不需知道具体某台设备的IP地址，将网络内主机的缺省网关设置为该虚拟路由器的IP地址，主机就可以利用该虚拟网关与外部网络进行通信
* VRRP将该虚拟路由器动态关联到承担传输业务的物理路由器上，当该物理路由器出现故障时，再次选择新路由器来接替业务传输工作，整个过程对用户完全透明，实现了内部网络和外部网络不间断通信